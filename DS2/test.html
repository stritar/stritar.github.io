<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        .test-holder {
            display: block;
            width: 600px;
            /*height: 300px;*/
            margin: 1500px auto 1300px auto;
        }
        
        .test-trigger {
            border-top: 8px solid #ddd;
            padding: 120px 0;
        }
        
        .chart-bar {
            position: relative;
            margin: 40px 0;
            overflow: hidden;
            /* set dimensions */
            width: 300px;
            /* or 100% if flexible and contained in another element which sets width */
            height: 4px;
            background: #ddd;
            border-radius: 2px;
        }
        
        .chart-bar>div {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0;
            overflow: hidden;
            border-radius: 2px;
            -webkit-transition: .25s ease-out;
            -moz-transition: .25s ease-out;
            -ms-transition: .25s ease-out;
            -o-transition: .25s ease-out;
            transition: .25s ease-out;
            -webkit-transform: scale3d(1, 1, 1);
            transform: scale3d(1, 1, 1);
            /* set color */
            background-color: salmon;
        }

    </style>
</head>

<body>

    <div class="test-holder">
        <div class="test-trigger" data-action="animate-chart">
            <h3>Sexy charts design</h3>
            <div class="chart-bar" data-element="chart-bar" data-fill="66">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="10">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="90">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="35">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="76">
                <div></div>
            </div>
        </div>
        <div class="test-trigger" data-action="animate-chart">
            <h3>Sexy charts devopement code</h3>
            <div class="chart-bar" data-element="chart-bar" data-fill="66">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="10">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="90">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="35">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="76">
                <div></div>
            </div>
        </div>
        <div class="test-trigger" data-action="animate-chart">
            <h3>Sexy charts managment</h3>
            <div class="chart-bar" data-element="chart-bar" data-fill="66">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="10">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="90">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="35">
                <div></div>
            </div>
            <div class="chart-bar" data-element="chart-bar" data-fill="76">
                <div></div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>
        $(function() {
            var $w = $(window);

            animateCharts();

            $w.scroll(function() {
                animateCharts();
            });

            function animateCharts() {
                var container = $('[data-action=animate-chart]');
                var elementToAnimate = $('[data-element=chart-bar]');
                var visualOffset = $w.outerHeight() / 1.2;
                var delay = 200;

                container.each(function() {
                    var targetOffset = $(this).offset().top;
                    if ($w.scrollTop() > targetOffset - visualOffset && !$(this).hasClass('animated')) {
                        var thisContainer = $(this);
                        thisContainer.addClass('animated');
                        thisContainer.find(elementToAnimate).each(function(idx) {
                            var delayedElement = $(this);
                            setTimeout(function() {
                                delayedElement.find('div').width(delayedElement.data('fill') + '%');
                            }, (idx * delay));
                        });
                    }
                });
            }

        });

    </script>
</body>

</html>
